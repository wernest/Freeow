(function(a){var g;g=function(c,b,e,d){this.options=a.extend({},a.fn.freeow.defaults,e);this.metadata=a.extend({},d);this.element=a(this.options.template(c,b));this.element.css(this.options.startStyle?this.options.startStyle:this.options.hideStyle);this.element.data("freeow",this);c=0;for(b=this.options.classes.length;c<b;c+=1)this.element.addClass(this.options.classes[c]);this.element.mousedown(this.options.onDown);this.element.hover(this.options.onHover);this.autoHide=!1};g.prototype={attach:function(c){this.options.prepend?
a(c).prepend(this.element):a(c).append(this.element);this.show()},show:function(){var a,b,e,d;a={duration:this.showDuration};this.options.autoHide&&0<this.options.autoHideDelay&&(this.autoHide=!0,b=this,d=this.options.autoHideDelay,e=function(){b.autoHide&&b.hide()},a.complete=function(){setTimeout(e,d)});this.element.animate(this.options.showStyle,a)},hide:function(){var a=this;this.element.animate(this.options.hideStyle,{duration:this.options.hideDuration,complete:function(){a.destroy()}})},destroy:function(){this.element.data("freeow",
void 0);this.element.remove()}};if("undefined"===typeof a.fn.freeow){a.fn.extend({freeow:function(a,b,e,d){return this.each(function(){(new g(a,b,e,d)).attach(this)})}});var h=null,k=null,l=null,f=!1;a.fn.freeow.defaults={autoHide:!0,autoHideDelay:3E3,classes:[],prepend:!0,startStyle:null,showStyle:{opacity:1},showDuration:250,hideStyle:{opacity:0},hideDuration:500,onHover:function(c){a(this).data("freeow").autoHide=!1},onDown:function(c){if(!0==f)a(this).css({left:0}),f=!1,a(this).parents().eq(1).attr("unselectable",
"off").css("user-select","text").css("-moz-user-select","text").css("-khtml-user-select","text").css("-webkit-user-select","text");else{f=!0;h=c.pageX;k=c.pageY;l=a(this).parent().position().left;a(this).parents().eq(1).attr("unselectable","on").css("user-select","none").css("-moz-user-select","none").css("-khtml-user-select","none").css("-webkit-user-select","none");var b=this,e=function(c){a(b).parents().eq(1).off("mouseup",e);a(b).parents().eq(1).off("mousemove",d);!0==f&&(f=!1,50<Math.abs(c.pageY-
k)?a(b).css({left:0}):100>c.pageX-h?a(b).css({left:0}):(br.Timeline.ignoredHiddenEntities.push(parseInt(a(b).find(".IDs").text())),a(b).data("freeow").hide()));a(this).parents().eq(1).attr("unselectable","off").css("user-select","text").css("-moz-user-select","text").css("-khtml-user-select","text").css("-webkit-user-select","text")},d=function(c){if(!0==f)if(0==h)a(b).css({left:0}),f=!1,a(b).parents().eq(1).off("mouseup",e),a(b).parents().eq(1).off("mousemove",d);else{var g=c.pageX-h;c.pageX<l?(a(b).css({left:0}),
f=!1,a(b).parents().eq(1).off("mouseup",e),a(b).parents().eq(1).off("mousemove",d)):50<Math.abs(c.pageY-k)?(a(b).css({left:0}),f=!1,a(b).parents().eq(1).off("mouseup",e),a(b).parents().eq(1).off("mousemove",d)):c.pageX<h?(a(b).css({left:0}),f=!1,a(b).parents().eq(1).off("mouseup",e),a(b).parents().eq(1).off("mousemove",d)):a(b).css({left:g})}};a(this).parents().eq(1).on("mouseup",e);a(this).parents().eq(1).on("mousemove",d)}},template:function(c,b){var e=a('<span class="close"></span>').click(function(){var b=
a(this).parents(br.Timeline.NotificationCenter.FREEOW_CONTAINER_CLASS).data("freeow").metadata.alertId;br.Timeline.NotificationCenter.deleteNotification(b)});b.wrapAll('<div class="container-freeow"><div class="background"><div class="content"></div></div></div>');var d=b.parents(".container-freeow");d.append(e);b.parent().prepend("<h2>"+c+"</h2>");return d}}}})(jQuery);
